# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“¦ Microsoft SQL Server on Linux - Installation & Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ğŸ¯ Ù‡Ø¯Ù Ø§ÛŒÙ† Playbook:
#    Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ SQL Server 2022 Ø±ÙˆÛŒ Ubuntu/RHEL
#
# âœ… Ú©Ø§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯:
#    1. Ù†ØµØ¨ SQL Server Ø§Ø² repository Ù…Ø§ÛŒÚ©Ø±ÙˆØ³Ø§ÙØª
#    2. ØªÙ†Ø¸ÛŒÙ… SA password Ùˆ activation
#    3. Ù†ØµØ¨ SQL Server Tools (sqlcmd, bcp)
#    4. Ø³Ø§Ø®Øª database Ùˆ user
#    5. ØªÙ†Ø¸ÛŒÙ… firewall
#    6. ØªÙ†Ø¸ÛŒÙ… backup Ø®ÙˆØ¯Ú©Ø§Ø±
#    7. ØªÙ†Ø¸ÛŒÙ…Ø§Øª performance
#
# âš ï¸ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§:
#    - Ubuntu 20.04/22.04 ÛŒØ§ RHEL 8/9
#    - Ø­Ø¯Ø§Ù‚Ù„ 2GB RAM (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ 4GB+)
#    - 10GB ÙØ¶Ø§ÛŒ Ø®Ø§Ù„ÛŒ
#
# ğŸ“‹ Ù†Ø­ÙˆÙ‡ Ø§Ø¬Ø±Ø§:
#    ansible-playbook -i inventory.yml site.yml --ask-vault-pass
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

---
all:
  hosts:
    sql-server-1:
      ansible_host: 192.168.1.60
  
  vars:
    # SQL Server Edition
    # express, developer, standard, enterprise
    mssql_edition: developer
    
    # SQL Server 2022
    mssql_version: 2022
    
    # SA Password (use vault!)
    mssql_sa_password: "{{ vault_mssql_sa_password }}"
    
    # Product Key (for standard/enterprise)
    # mssql_product_key: "XXXXX-XXXXX-XXXXX-XXXXX-XXXXX"
    
    # Memory settings
    mssql_memory_limit_mb: 2048
    
    # TCP Port
    mssql_tcp_port: 1433
    
    # Collation
    mssql_collation: SQL_Latin1_General_CP1_CI_AS
    
    # Data paths
    mssql_data_dir: /var/opt/mssql/data
    mssql_log_dir: /var/opt/mssql/log
    mssql_backup_dir: /var/opt/mssql/backup
    
    # Databases to create
    mssql_databases:
      - name: MyAppDB
        owner: myapp_user
      - name: ReportingDB
        owner: reporting_user
    
    # Users to create
    mssql_users:
      - name: myapp_user
        password: "{{ vault_myapp_user_password }}"
        default_db: MyAppDB
        roles:
          - db_owner
      
      - name: reporting_user
        password: "{{ vault_reporting_user_password }}"
        default_db: ReportingDB
        roles:
          - db_datareader
      
      - name: readonly_user
        password: "{{ vault_readonly_password }}"
        default_db: MyAppDB
        roles:
          - db_datareader
    
    # Backup settings
    mssql_backup_enabled: true
    mssql_backup_retention_days: 7
    
    # Agent (for scheduled jobs)
    mssql_agent_enabled: true
