# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“¦ RabbitMQ Cluster Inventory
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¯ Ù‡Ø¯Ù: ØªØ¹Ø±ÛŒÙ Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ RabbitMQ Cluster Ø¨Ø§ 3 Ú¯Ø±Ù‡
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

all:
  vars:
    ansible_user: root
    ansible_ssh_private_key_file: ~/.ssh/id_rsa
    
    # â•â•â• RabbitMQ Settings â•â•â•
    rabbitmq_version: "3.12"
    rabbitmq_amqp_port: 5672
    rabbitmq_management_port: 15672
    rabbitmq_cluster_port: 25672
    
    # â•â•â• Cluster Settings â•â•â•
    rabbitmq_cluster_name: "production-cluster"
    rabbitmq_erlang_cookie: "CHANGE_ME_ERLANG_COOKIE_SECRET"
    
    # â•â•â• Users â•â•â•
    rabbitmq_admin_user: "admin"
    rabbitmq_admin_password: "CHANGE_ME_ADMIN_PASSWORD"
    rabbitmq_app_user: "appuser"
    rabbitmq_app_password: "CHANGE_ME_APP_PASSWORD"
    
    # â•â•â• Virtual Hosts â•â•â•
    rabbitmq_vhosts:
      - name: "production"
        description: "Production Virtual Host"
      - name: "staging"
        description: "Staging Virtual Host"
    
    # â•â•â• Memory â•â•â•
    rabbitmq_vm_memory_high_watermark: 0.6
    rabbitmq_disk_free_limit: "2GB"
    
    # â•â•â• HA Policy â•â•â•
    rabbitmq_ha_mode: "all"  # all, exactly, nodes
    rabbitmq_ha_sync_mode: "automatic"

  children:
    #---------------------------------------
    # Ú¯Ø±Ù‡â€ŒÙ‡Ø§ÛŒ RabbitMQ
    #---------------------------------------
    rabbitmq:
      hosts:
        rabbit-1:
          ansible_host: 192.168.1.130
          rabbitmq_is_master: true
          
        rabbit-2:
          ansible_host: 192.168.1.131
          rabbitmq_is_master: false
          
        rabbit-3:
          ansible_host: 192.168.1.132
          rabbitmq_is_master: false

    #---------------------------------------
    # Ú¯Ø±Ù‡ Master (Ø§ÙˆÙ„ÛŒÙ† Ú¯Ø±Ù‡)
    #---------------------------------------
    rabbitmq_master:
      hosts:
        rabbit-1:

    #---------------------------------------
    # Ú¯Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Slave
    #---------------------------------------
    rabbitmq_slaves:
      hosts:
        rabbit-2:
        rabbit-3:
